<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××¨×›×– ×©×™×¨×•×ª ×‘×¨×¢×´× | VAG Specialist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;800&display=swap');
        body { font-family: 'Assistant', sans-serif; background: #f4f7f9; }
        .ltr { direction: ltr; display: inline-block; }
        .vag-blue { background-color: #001e50; }
        .category-grid { position: relative; z-index: 20; margin-top: -50px; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        canvas { border: 1px dashed #cbd5e1; border-radius: 12px; width: 100%; height: 150px; background: white; }
        .hidden { display: none !important; }
    </style>
</head>
<body class="pb-32">

    <header class="bg-white pt-8 pb-16 text-center shadow-sm">
        <h1 class="text-3xl font-black text-[#001e50]">××¨×›×– ×©×™×¨×•×ª ×‘×¨×¢×´×</h1>
        <div class="mt-2 text-gray-400 font-bold tracking-widest uppercase">×‘××¨ ×©×‘×¢</div>
    </header>

    <div class="max-w-md mx-auto px-4 -mt-10">
        <div class="bg-white rounded-2xl p-4 shadow-xl border flex justify-between items-center">
            <div class="text-right">
                <p id="liveDate" class="text-[10px] font-bold text-blue-900"></p>
                <p id="liveTime" class="text-lg font-black ltr"></p>
            </div>
            <div class="border-r pr-4 text-left">
                <p class="text-[9px] text-gray-400 font-bold">×©×¢×•×ª ×¤×¢×™×œ×•×ª</p>
                <p class="text-xs font-black text-green-600 ltr">08:00 - 17:00</p>
            </div>
        </div>
    </div>

    <section class="mt-8 relative px-4">
        <div class="vag-blue rounded-[2.5rem] pt-10 pb-20 text-center text-white">
            <h2 class="text-xl font-black italic">××•××—×™ VAG</h2>
            <p class="text-[10px] opacity-70">×¡×™××˜ â€¢ ×¡×§×•×“×” â€¢ ××•×“×™ â€¢ ×¤×•×œ×§×¡×•×•×’×Ÿ</p>
        </div>

        <div class="max-w-md mx-auto grid grid-cols-2 gap-3 px-2 category-grid">
            <div class="bg-white p-5 rounded-3xl shadow-lg border text-center">
                <i class="fas fa-tools text-blue-900 text-xl mb-2"></i>
                <p class="text-[11px] font-black">××›×•× ××•×ª</p>
            </div>
            <div class="bg-white p-5 rounded-3xl shadow-lg border text-center">
                <i class="fas fa-microchip text-blue-900 text-xl mb-2"></i>
                <p class="text-[11px] font-black">×“×™××’× ×•×¡×˜×™×§×”</p>
            </div>
            <div class="bg-white p-5 rounded-3xl shadow-lg border text-center">
                <i class="fas fa-oil-can text-blue-900 text-xl mb-2"></i>
                <p class="text-[11px] font-black">×˜×™×¤×•×œ×™×</p>
            </div>
            <div class="bg-white p-5 rounded-3xl shadow-lg border text-center">
                <i class="fas fa-snowflake text-blue-900 text-xl mb-2"></i>
                <p class="text-[11px] font-black">××™×–×•×’ ××•×•×™×¨</p>
            </div>
            <div class="bg-white p-5 rounded-3xl shadow-lg border text-center">
                <i class="fas fa-car-battery text-blue-900 text-xl mb-2"></i>
                <p class="text-[11px] font-black">×—×©××œ</p>
            </div>
            <div class="bg-white p-5 rounded-3xl shadow-lg border text-center">
                <i class="fas fa-file-contract text-blue-900 text-xl mb-2"></i>
                <p class="text-[11px] font-black">×”×›× ×” ×œ×˜×¡×˜</p>
            </div>
        </div>
    </section>

    <div class="max-w-md mx-auto mt-8 px-6">
        <div class="bg-blue-50 border-r-4 border-blue-600 p-4 rounded-xl flex items-center gap-3">
            <span class="text-xl">ğŸ’¡</span>
            <div>
                <p class="text-[10px] font-bold text-blue-900">×˜×™×¤ ×™×•××™</p>
                <p id="dailyTip" class="text-xs text-blue-800 font-semibold"></p>
            </div>
        </div>
    </div>

    <div class="max-w-md mx-auto mt-6 px-6">
        <div class="bg-white rounded-3xl p-6 shadow-sm border border-blue-100 relative">
            <div class="flex items-center gap-2 mb-4">
                <div class="w-6 h-6 bg-gradient-to-tr from-blue-400 to-purple-500 rounded-full animate-pulse"></div>
                <h4 class="font-black text-sm text-gray-800">GiminAI ××•××—×” VAG</h4>
            </div>
            <input id="aiInput" type="text" placeholder="×©××œ×• ×¢×œ ×ª×§×œ×” ××• × ×•×¨×” ×‘×œ×•×— ×”××—×•×•× ×™×..." class="w-full bg-gray-50 p-3 rounded-xl text-xs border-none outline-none focus:ring-1 ring-blue-900">
            <button onclick="askAI()" class="w-full mt-2 bg-blue-900 text-white p-3 rounded-xl text-xs font-black">×©××œ ××ª ×”×‘×™× ×” ×”××œ××›×•×ª×™×ª</button>
            <p id="aiResponse" class="mt-4 text-[11px] text-gray-600 hidden leading-relaxed bg-blue-50/50 p-3 rounded-xl"></p>
        </div>
    </div>

    <div class="mt-12 vag-blue py-12 px-6 overflow-hidden">
        <h3 class="text-white text-center font-black mb-8">×‘×™×§×•×¨×•×ª Google (5â˜…)</h3>
        <div id="reviewsContainer" class="flex gap-4 overflow-x-auto pb-4 ltr">
            </div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 p-4 bg-white/80 backdrop-blur-md border-t z-[100] grid grid-cols-2 gap-3 max-w-md mx-auto">
        <button onclick="openModal('loginModal')" class="bg-blue-900 text-white p-4 rounded-2xl font-black text-sm shadow-lg">×›× ×™×¡×” ×œ××–×•×¨ ××™×©×™</button>
        <button onclick="openModal('regModal')" class="bg-white border-2 border-blue-900 text-blue-900 p-4 rounded-2xl font-black text-sm">×”×¨×©××”</button>
        <a href="tel:086277195" class="bg-green-600 text-white p-3 rounded-xl text-center font-black text-xs"><i class="fas fa-phone-alt ml-1"></i> ×—×™×•×’</a>
        <a href="https://waze.com/ul?q=×¤× ×—×¡ ×”×—×•×¦×‘ 35 ×‘××¨ ×©×‘×¢" target="_blank" class="bg-blue-500 text-white p-3 rounded-xl text-center font-black text-xs"><i class="fas fa-location-arrow ml-1"></i> × ×™×•×•×˜</a>
    </div>

    <div id="regModal" class="hidden fixed inset-0 bg-black/80 z-[200] flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-md rounded-[2.5rem] p-8 max-h-[90vh] overflow-y-auto">
            <h2 class="text-2xl font-black text-blue-900 mb-6 border-b pb-2">×”×¨×©××” ××”×™×¨×”</h2>
            <div class="space-y-3">
                <input id="rFName" type="text" placeholder="×©× ××œ× *" class="w-full p-4 bg-gray-50 rounded-2xl border" required>
                <input id="rLName" type="text" placeholder="×©× ××©×¤×—×” *" class="w-full p-4 bg-gray-50 rounded-2xl border" required>
                <input id="rID" type="number" placeholder="×ª×¢×•×“×ª ×–×”×•×ª *" class="w-full p-4 bg-gray-50 rounded-2xl border ltr" required>
                <input id="rPhone" type="tel" placeholder="×˜×œ×¤×•×Ÿ *" class="w-full p-4 bg-gray-50 rounded-2xl border ltr" required>
                <input id="rAddr" type="text" placeholder="×›×ª×•×‘×ª *" class="w-full p-4 bg-gray-50 rounded-2xl border" required>
                <input id="rModel" type="text" placeholder="×“×’× ×¨×›×‘ *" class="w-full p-4 bg-gray-50 rounded-2xl border" required>
                <input id="rYear" type="number" placeholder="×©× ×” *" class="w-full p-4 bg-gray-50 rounded-2xl border ltr" required>
                <input id="rKm" type="number" placeholder="×§×™×œ×•××˜×¨ ×¢×“×›× ×™ *" class="w-full p-4 bg-gray-50 rounded-2xl border ltr" required>
                <input id="rPlate" type="number" placeholder="××¡×¤×¨ ×¨×›×‘ *" class="w-full p-4 bg-blue-50 border-blue-200 rounded-2xl ltr font-black" required>
                <button onclick="handleRegister()" class="w-full bg-blue-900 text-white p-5 rounded-2xl font-black shadow-lg">×¦×•×¨ ×—×©×‘×•×Ÿ</button>
                <button onclick="closeModal('regModal')" class="w-full text-gray-400 font-bold p-2 text-sm">×—×–×•×¨</button>
            </div>
        </div>
    </div>

    <div id="personalArea" class="hidden fixed inset-0 bg-gray-50 z-[300] overflow-y-auto pb-32">
        <nav class="bg-white p-6 border-b flex justify-between items-center sticky top-0 z-50">
            <div>
                <h2 id="uName" class="font-black text-blue-900 italic">×©×œ×•×, ×œ×§×•×—</h2>
                <p id="uCar" class="text-[10px] font-bold text-gray-400 ltr"></p>
            </div>
            <button onclick="logout()" class="text-red-500 bg-red-50 p-2 rounded-lg"><i class="fas fa-power-off"></i></button>
        </nav>

        <main class="p-6 space-y-6 max-w-md mx-auto">
            
            <div id="smartBanner" class="hidden bg-blue-900 text-white p-4 rounded-2xl shadow-lg flex items-center gap-3 animate-pulse">
                <i class="fas fa-bell text-yellow-400"></i>
                <p id="bannerMsg" class="text-[11px] font-black leading-tight"></p>
            </div>

            <div id="quoteCard" class="hidden bg-white rounded-3xl p-6 shadow-xl border-2 border-amber-200">
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-black text-amber-600">×”×¦×¢×ª ××—×™×¨ ×œ××™×©×•×¨</h4>
                    <button onclick="downloadQuote()" class="text-blue-600 text-[10px] font-bold"><i class="fas fa-download ml-1"></i> ×”×•×¨×“ PDF</button>
                </div>
                <div id="quoteDetail" class="text-[10px] bg-slate-50 p-4 rounded-xl border mb-4 space-y-2"></div>
                <canvas id="sigPad"></canvas>
                <button onclick="approveQuote()" class="w-full mt-4 bg-green-600 text-white p-4 rounded-2xl font-black shadow-lg">×—×ª×•× ×•××©×¨ ×¢×‘×•×“×”</button>
            </div>

            <div class="bg-white rounded-3xl p-6 shadow-sm border">
                <h4 class="font-black text-sm mb-4">×§×‘×™×¢×ª ×ª×•×¨</h4>
                <div class="grid grid-cols-2 gap-2 mb-3">
                    <input id="appDate" type="date" class="p-4 bg-gray-50 rounded-2xl text-xs ltr border outline-none">
                    <select id="appTime" class="p-4 bg-gray-50 rounded-2xl text-xs ltr border outline-none font-bold">
                        <option value="08:00">08:00</option><option value="12:00">12:00</option><option value="15:00">15:00</option>
                    </select>
                </div>
                <button onclick="bookAppointment()" class="w-full bg-blue-900 text-white p-4 rounded-2xl font-black text-xs">×‘×§×© ×ª×•×¨</button>
            </div>

            <div class="bg-white rounded-3xl p-6 shadow-sm border">
                <h4 class="font-black text-sm mb-4 italic underline">×”×™×¡×˜×•×¨×™×™×ª ×¨×›×‘ (×©× ×ª×™×™× ××—×•×¨×”)</h4>
                <div class="flex overflow-x-auto gap-2 mb-4 no-scrollbar">
                    <button onclick="switchTab('hist-quotes')" class="bg-gray-100 px-4 py-2 rounded-xl text-[10px] font-black whitespace-nowrap">×”×¦×¢×•×ª ××—×™×¨</button>
                    <button onclick="switchTab('hist-serv')" class="bg-gray-100 px-4 py-2 rounded-xl text-[10px] font-black whitespace-nowrap">×˜×™×¤×•×œ×™×</button>
                    <button onclick="switchTab('hist-tests')" class="bg-gray-100 px-4 py-2 rounded-xl text-[10px] font-black whitespace-nowrap">×˜×¡×˜×™×</button>
                    <button onclick="switchTab('hist-winter')" class="bg-gray-100 px-4 py-2 rounded-xl text-[10px] font-black whitespace-nowrap">×‘×™×§×•×¨×•×ª</button>
                </div>
                
                <div id="hist-quotes" class="tab-content text-[11px] space-y-2">××™×Ÿ × ×ª×•× ×™× ×§×•×“××™×.</div>
                <div id="hist-serv" class="tab-content text-[11px] space-y-2">××™×Ÿ × ×ª×•× ×™× ×§×•×“××™×.</div>
                <div id="hist-tests" class="tab-content text-[11px] space-y-2">××™×Ÿ × ×ª×•× ×™× ×§×•×“××™×.</div>
                <div id="hist-winter" class="tab-content text-[11px] space-y-2">××™×Ÿ × ×ª×•× ×™× ×§×•×“××™×.</div>
            </div>

            <div class="bg-white rounded-3xl p-6 shadow-sm border">
                <h4 class="font-black text-sm mb-4"><i class="fas fa-envelope-open-text ml-2"></i>×”×•×“×¢×•×ª ××”×¦×•×•×ª</h4>
                <div id="uMessages" class="text-[11px] text-gray-500 italic">××™×Ÿ ×”×•×“×¢×•×ª.</div>
            </div>
        </main>
    </div>

    <div id="loginModal" class="hidden fixed inset-0 bg-black/80 z-[200] flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-sm rounded-[2.5rem] p-8 text-center">
            <h2 class="text-2xl font-black text-blue-900 mb-6 italic">××¨×›×– ×©×™×¨×•×ª ×‘×¨×¢×´×</h2>
            <input id="lID" type="number" placeholder="×ª×¢×•×“×ª ×–×”×•×ª" class="w-full p-4 bg-gray-50 rounded-2xl mb-3 ltr text-center font-bold border">
            <input id="lPlate" type="number" placeholder="××¡×¤×¨ ×¨×›×‘" class="w-full p-4 bg-gray-50 rounded-2xl mb-6 ltr text-center font-bold border">
            <button onclick="handleLogin()" class="w-full bg-blue-900 text-white p-5 rounded-2xl font-black shadow-lg">×›× ×™×¡×” ×œ××¢×¨×›×ª</button>
            <button onclick="closeModal('loginModal')" class="mt-4 text-gray-400 font-bold">×¡×’×•×¨</button>
        </div>
    </div>

    <script>
        // --- 1. CONFIG & INIT ---
        const firebaseConfig = {
            apiKey: "AIzaSyDD7YAdTePRWYjwBbmy3gLRYd_OLDwpTL8",
            authDomain: "baram-vag-45e12.firebaseapp.com",
            projectId: "baram-vag-45e12",
            storageBucket: "baram-vag-45e12.firebasestorage.app",
            messagingSenderId: "761383355945",
            appId: "1:761383355945:web:552554b5a6b9fe5e78be38"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // --- 2. UI UTILS ---
        function updateClock() {
            const now = new Date();
            document.getElementById('liveDate').innerText = now.toLocaleDateString('he-IL', {weekday:'long', day:'numeric', month:'numeric'});
            document.getElementById('liveTime').innerText = now.toLocaleTimeString('he-IL', {hour:'2-digit', minute:'2-digit', second:'2-digit'});
        }
        setInterval(updateClock, 1000); updateClock();

        const tips = [
            "×‘×“×™×§×ª ×©××Ÿ ×¤×¢× ×‘×©×‘×•×¢×™×™× ×©×•××¨×ª ×¢×œ ×”×˜×•×¨×‘×• ×©×œ ×”-VAG ×©×œ×š.",
            "× ×•×¨×ª ×× ×•×¢ ××”×‘×”×‘×ª? ×¢×¦×•×¨ ×‘×¦×“ ××™×“ ×•×”×ª×§×©×¨ ××œ×™× ×•.",
            "×‘×“×™×§×ª ×—×•×¨×£ ×”×™× ×œ× ×”××œ×¦×”, ×”×™× ×‘×™×˜×—×•×Ÿ ×œ××©×¤×—×” ×©×œ×š."
        ];
        document.getElementById('dailyTip').innerText = tips[new Date().getDate() % tips.length];

        function genReviews() {
            const container = document.getElementById('reviewsContainer');
            const reviewTexts = ["×©×™×¨×•×ª ×¤×¦×¦×” ×œ××•×“×™ ×©×œ×™!", "××§×¦×•×¢× ×™× ×‘×¨××•×ª, ×”×›×™ ×˜×•×‘×™× ×‘×“×¨×•×.", "×¨×§ ××¦×œ× ×× ×™ ××˜×¤×œ ×‘×¡×§×•×“×”.", "×××™× ×•×ª ××¢×œ ×”×›×œ.", "××•××—×™× ×××™×ª×™×™× ×œ-VAG."];
            for(let i=0; i<10; i++) {
                container.innerHTML += `
                    <div class="min-w-[260px] bg-white/10 p-5 rounded-3xl border border-white/20 text-white rtl text-right">
                        <div class="flex text-yellow-400 text-[8px] mb-2">${'<i class="fas fa-star"></i>'.repeat(5)}</div>
                        <p class="text-[11px] italic">"${reviewTexts[i%5]}"</p>
                    </div>`;
            }
        }
        genReviews();

        // --- 3. AI EXPERT ---
        function askAI() {
            const q = document.getElementById('aiInput').value.toLowerCase();
            const res = document.getElementById('aiResponse');
            res.classList.remove('hidden');
            if(q.includes('vag') || q.includes('×¤×•×œ×§×¡') || q.includes('××•×“×™') || q.includes('×¡×™××˜') || q.includes('×¡×§×•×“×”')) {
                res.innerText = "×©×œ×•×, ×× ×™ GiminAI. ×¢×‘×•×¨ ×¨×›×‘×™ VAG, ×”×ª×§×œ×” ×©×ª×™××¨×ª ×“×•×¨×©×ª ×¡×¨×™×§×ª ××—×©×‘ VCDS ××§×¦×•×¢×™×ª. ×‘×•× ××œ×™× ×• ×œ×‘×¨×¢×´× ×œ×‘×“×™×§×” ××“×•×™×§×ª.";
            } else {
                res.innerText = "××¦×˜×¢×¨, ×× ×™ ××•×¡××š ×œ×¢× ×•×ª ×¨×§ ×¢×œ ×©××œ×•×ª ×”×§×©×•×¨×•×ª ×œ×§×‘×•×¦×ª VAG (×¤×•×œ×§×¡×•×•×’×Ÿ, ××•×“×™, ×¡×™××˜, ×¡×§×•×“×”).";
            }
        }

        // --- 4. AUTH & CORE ---
        async function handleRegister() {
            const plate = document.getElementById('rPlate').value;
            const userData = {
                fName: document.getElementById('rFName').value,
                lName: document.getElementById('rLName').value,
                id: document.getElementById('rID').value,
                phone: document.getElementById('rPhone').value,
                addr: document.getElementById('rAddr').value,
                model: document.getElementById('rModel').value,
                year: document.getElementById('rYear').value,
                km: document.getElementById('rKm').value,
                plate: plate,
                regDate: new Date().toISOString(),
                history: { quotes: [], services: [], tests: [], reviews: [] }
            };
            if(!plate || !userData.id) return alert("××œ× ×©×“×•×ª ×—×•×‘×”");
            await db.collection("customers").doc(plate).set(userData);
            alert("× ×¨×©××ª ×‘×”×¦×œ×—×”! ×›×¢×ª × ×™×ª×Ÿ ×œ×”×™×›× ×¡.");
            location.reload();
        }

        async function handleLogin() {
            const id = document.getElementById('lID').value;
            const plate = document.getElementById('lPlate').value;
            const doc = await db.collection("customers").doc(plate).get();
            if(doc.exists && doc.data().id === id) {
                localStorage.setItem('uPlate', plate);
                showDashboard(doc.data());
            } else alert("× ×ª×•× ×™× ×œ× ×ª×•×××™×");
        }

        // --- 5. DASHBOARD & HISTORY ---
        let sigPad;
        function showDashboard(user) {
            document.getElementById('personalArea').classList.remove('hidden');
            document.getElementById('uName').innerText = `×©×œ×•×, ${user.fName} ${user.lName}`;
            document.getElementById('uCar').innerText = `${user.model} | ${user.plate}`;
            
            checkSmartAlerts(user);
            initQuotes(user);
            renderHistory(user.history);
            
            sigPad = new SignaturePad(document.getElementById('sigPad'));
        }

        function checkSmartAlerts(user) {
            const month = new Date().getMonth() + 1;
            const banner = document.getElementById('smartBanner');
            const msg = document.getElementById('bannerMsg');
            
            banner.classList.remove('hidden');
            if(month >= 11 || month <= 2) msg.innerText = "×”×—×•×¨×£ ×›××Ÿ! ×‘×•× ×œ×‘×“×™×§×ª ×—×•×¨×£ ×—×™× × (××’×‘×™×, ××•×¨×•×ª ×•×‘×œ××™×).";
            else if(month >= 6 && month <= 8) msg.innerText = "×§×™×¥ ×¨×•×ª×—! ×•×•×“× ×™×¢×™×œ×•×ª ××–×’×Ÿ ×•× ×•×–×œ ×§×™×¨×•×¨ ××¦×œ× ×•.";
            else msg.innerText = "×–××Ÿ ×œ×˜×™×¤×•×œ ×ª×§×•×¤×ª×™? ×‘×“×•×§ ××ª ×”×”×™×¡×˜×•×¨×™×” ×©×œ×š ×œ××˜×”.";
        }

        function initQuotes(user) {
            const pending = (user.history.quotes || []).find(q => !q.signed);
            if(pending) {
                document.getElementById('quoteCard').classList.remove('hidden');
                document.getElementById('quoteDetail').innerHTML = `
                    <p class="font-bold border-b pb-1">×¤×™×¨×•×˜ ×¢×‘×•×“×”: ${pending.title}</p>
                    <p>×—×œ×¤×™×: ${pending.parts}</p>
                    <p class="text-blue-900 font-black">×¡×”"×›: â‚ª${pending.total}</p>
                `;
                window.activeQuote = pending;
            }
        }

        function renderHistory(history) {
            const twoYearsAgo = new Date(); twoYearsAgo.setFullYear(twoYearsAgo.getFullYear() - 2);
            
            const mapData = (arr, elId) => {
                const filtered = (arr || []).filter(item => new Date(item.date) > twoYearsAgo);
                document.getElementById(elId).innerHTML = filtered.length ? 
                    filtered.map(i => `<div class="p-3 bg-gray-50 rounded-xl border flex justify-between"><span>${i.desc}</span><span class="ltr font-bold">${i.date}</span></div>`).join('') 
                    : "××™×Ÿ × ×ª×•× ×™× ×‘×©× ×ª×™×™× ×”××—×¨×•× ×•×ª.";
            };

            mapData(history.quotes, 'hist-quotes');
            mapData(history.services, 'hist-serv');
            mapData(history.tests, 'hist-tests');
            mapData(history.reviews, 'hist-winter');
        }

        async function approveQuote() {
            if(sigPad.isEmpty()) return alert("× × ×œ×—×ª×•× ×œ××™×©×•×¨");
            const plate = localStorage.getItem('uPlate');
            // Logic to update Firestore quote to 'signed: true'
            alert("×”×”×¦×¢×” ××•×©×¨×” ×•× ×©×œ×—×” ×œ××•×¡×š!");
            location.reload();
        }

        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
        }

        function openModal(id) { document.getElementById(id).classList.remove('hidden'); }
        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }
        function logout() { localStorage.clear(); location.reload(); }
    </script>
</body>
</html>
