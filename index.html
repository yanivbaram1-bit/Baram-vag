<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>מערכת ניהול ברע״מ - VAG Specialist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700&display=swap');
        body { font-family: 'Assistant', sans-serif; background-color: #f8f9fa; margin-bottom: 100px; }
        .vag-blue { color: #001e50; }
        .hero-dark { background-color: #001e50; padding: 40px 20px 80px 20px; text-align: center; }
        .main-card { background: white; border-radius: 24px; margin-top: -50px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 24px; position: relative; z-index: 10; max-width: 450px; margin-left: auto; margin-right: auto; }
        .input-field { width: 100%; padding: 12px 16px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 12px; outline: none; transition: all 0.2s; }
        .input-field:focus { border-color: #001e50; ring: 2px; ring-color: #001e50; }
        .plate-input { direction: ltr; text-align: center; font-size: 24px; font-weight: 800; letter-spacing: 2px; }
        .btn-primary { background-color: #001e50; color: white; width: 100%; padding: 16px; border-radius: 16px; font-weight: bold; font-size: 16px; transition: transform 0.1s; }
        .btn-primary:active { transform: scale(0.98); }
        .hidden-section { display: none; }
    </style>
</head>
<body>

    <header class="bg-white p-4 border-b flex justify-between items-center sticky top-0 z-[100]">
        <button onclick="showHome()"><i class="fas fa-home text-gray-400 text-xl"></i></button>
        <div class="text-center">
            <h1 class="text-lg font-bold vag-blue">מרכז שירות ברע״מ</h1>
            <p id="welcomeUser" class="text-[9px] font-bold text-gray-400">ברוכים הבאים</p>
        </div>
        <button><i class="fas fa-bars text-gray-400 text-xl"></i></button>
    </header>

    <div class="hero-dark">
        <h2 id="heroTitle" class="text-white text-2xl font-bold mb-1">ניהול אישי VAG</h2>
        <p class="text-blue-200 text-xs">המערכת הממוחשבת של המוסך שלך</p>
    </div>

    <main class="px-4 mb-20">
        
        <div id="homeSection" class="main-card">
            <div id="registrationForm">
                <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                    <i class="fas fa-user-plus text-blue-900"></i> רישום לקוח ורכב
                </h3>
                <div class="space-y-4">
                    <input type="text" id="custName" placeholder="שם מלא" class="input-field">
                    <input type="tel" id="custPhone" placeholder="מספר טלפון" class="input-field">
                    <input type="text" id="custAddr" placeholder="כתובת (עיר ורחוב)" class="input-field">
                    
                    <div class="pt-2">
                        <p class="text-xs font-bold text-gray-500 mb-2">פרטי הרכב:</p>
                        <select id="carBrand" class="input-field mb-3">
                            <option value="">בחר מותג</option>
                            <option value="אאודי">אאודי</option>
                            <option value="פולקסווגן">פולקסווגן</option>
                            <option value="סקודה">סקודה</option>
                            <option value="סיאט">סיאט</option>
                        </select>
                        <input type="tel" id="carPlate" placeholder="00-000-00" class="input-field plate-input">
                    </div>
                    
                    <button onclick="registerClient()" class="btn-primary mt-4">שמור לקוח במערכת</button>
                </div>
            </div>

            <div id="userDashboard" class="hidden-section">
                <div class="text-center mb-6">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2">
                        <i class="fas fa-car-side text-2xl text-blue-900"></i>
                    </div>
                    <h3 id="dashName" class="text-xl font-bold text-gray-800"></h3>
                    <p id="dashCar" class="text-sm text-gray-500"></p>
                </div>

                <div class="grid grid-cols-2 gap-3 mb-6">
                    <button onclick="showCalendar()" class="bg-gray-50 p-4 rounded-2xl text-center border">
                        <i class="fas fa-calendar-alt text-blue-900 mb-2"></i>
                        <span class="block text-xs font-bold">קביעת תור</span>
                    </button>
                    <button onclick="alert('היסטוריה תטען בהמשך...')" class="bg-gray-50 p-4 rounded-2xl text-center border">
                        <i class="fas fa-file-invoice text-blue-900 mb-2"></i>
                        <span class="block text-xs font-bold">היסטוריית טיפולים</span>
                    </button>
                </div>
            </div>
        </div>

        <div id="calendarSection" class="main-card hidden-section">
            <h3 class="text-xl font-bold text-gray-800 mb-6 italic">תיאום תור למוסך</h3>
            <div class="space-y-4 text-right">
                <label class="block text-sm font-bold">בחר תאריך:</label>
                <input type="date" id="serviceDate" class="input-field">
                
                <label class="block text-sm font-bold">בחר שעה:</label>
                <select id="serviceTime" class="input-field">
                    <option>08:00</option>
                    <option>09:00</option>
                    <option>10:00</option>
                    <option>11:00</option>
                </select>

                <button onclick="confirmAppointment()" class="btn-primary mt-6">אשר תור ביומן</button>
                <button onclick="showHome()" class="w-full text-sm text-gray-400 mt-2">חזור</button>
            </div>
        </div>

    </main>

    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around p-4 pb-8 z-[100] shadow-lg">
        <button onclick="showHome()" class="flex flex-col items-center text-blue-900">
            <i class="fas fa-home text-xl mb-1"></i>
            <span class="text-[10px] font-bold">ראשי</span>
        </button>
        <button onclick="showCalendar()" class="flex flex-col items-center text-gray-400">
            <i class="fas fa-calendar-check text-xl mb-1"></i>
            <span class="text-[10px] font-bold">תור</span>
        </button>
        <a href="tel:086277195" class="flex flex-col items-center text-gray-400">
            <i class="fas fa-phone text-xl mb-1"></i>
            <span class="text-[10px] font-bold">חיוג</span>
        </a>
    </nav>

    <script>
        let currentUser = null;

        function registerClient() {
            const name = document.getElementById('custName').value;
            const phone = document.getElementById('custPhone').value;
            const car = document.getElementById('carBrand').value;
            const plate = document.getElementById('carPlate').value;

            if(!name || !phone || !plate) return alert("אנא מלא את כל השדות");

            currentUser = { name, phone, car, plate };
            
            // שינוי תצוגה
            document.getElementById('registrationForm').classList.add('hidden-section');
            document.getElementById('userDashboard').classList.remove('hidden-section');
            document.getElementById('welcomeUser').innerText = "שלום, " + name;
            document.getElementById('dashName').innerText = name;
            document.getElementById('dashCar').innerText = car + " | " + plate;
            document.getElementById('heroTitle').innerText = "האזור האישי שלך";
        }

        function showCalendar() {
            if(!currentUser) return alert("אנא הירשם קודם");
            document.getElementById('homeSection').classList.add('hidden-section');
            document.getElementById('calendarSection').classList.remove('hidden-section');
        }

        function showHome() {
            document.getElementById('calendarSection').classList.add('hidden-section');
            document.getElementById('homeSection').classList.remove('hidden-section');
        }

        function confirmAppointment() {
            const date = document.getElementById('serviceDate').value;
            const time = document.getElementById('serviceTime').value;
            alert(`התור נקבע בהצלחה ל-${date} בשעה ${time}. נשלח לך הודעת אישור.`);
            showHome();
        }
    </script>
</body>
</html>
