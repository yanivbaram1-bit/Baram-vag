<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>专 砖专转 专注状 | VAG Specialist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;600;700;800&display=swap');
        body { font-family: 'Assistant', sans-serif; background-color: #f8fafc; margin: 0; }
        .hero-bg, .reviews-section { background: linear-gradient(135deg, #0f172a 0%, #1e40af 100%); }
        .floating-container { position: relative; z-index: 20; margin-top: -50px; }
        .card { background: white; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.08); border: 1px solid #e2e8f0; }
        .btn-action { background: white; border-radius: 12px; padding: 12px 5px; display: flex; align-items: center; justify-content: center; gap: 6px; font-weight: 800; font-size: 13px; color: #1e3a8a; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .ai-response-box { background: #f0f7ff; border-right: 4px solid #2563eb; border-radius: 12px; padding: 15px; font-size: 13px; line-height: 1.6; color: #1e3a8a; }
        .hidden { display: none; }
        input { width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 12px; outline: none; font-size: 14px; background: #fff; margin-bottom: 10px; }
        .review-card-dark { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 20px; color: white; margin-bottom: 15px; }
        
        /* 拽 转专转 爪注 */
        header { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; padding: 15px 20px; background: white; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 100; }
    </style>
</head>
<body>

    <header>
        <div id="userGreeting" class="text-[11px] font-bold text-blue-600 truncate"></div>
        <h1 class="text-lg font-black text-blue-900 text-center uppercase">专 砖专转 专注状</h1>
        <div class="text-left">
            <button id="logoutBtn" onclick="location.reload()" class="hidden text-red-600 text-[10px] font-black bg-red-50 px-3 py-1 rounded-full border border-red-100">爪</button>
        </div>
    </header>

    <div id="homePage">
        <section class="hero-bg text-white pt-8 pb-16 px-6 text-center">
            <h2 class="text-2xl font-bold mb-1 italic">VAG SPECIALIST SYSTEM</h2>
            <p class="text-blue-200 text-xs font-semibold mb-8"> 转拽 专转 爪专 拽爪转 驻拽住</p>
            <div class="grid grid-cols-3 gap-2 max-w-sm mx-auto relative z-30">
                <a href="tel:086277195" class="btn-action"><i class="fas fa-phone"></i></a>
                <a href="https://waze.com/ul?q=驻住 爪 35 专 砖注" class="btn-action"><i class="fab fa-waze text-blue-500"></i></a>
                <a href="https://wa.me/972505858750" class="btn-action"><i class="fab fa-whatsapp text-green-500"></i>注</a>
            </div>
        </section>

        <div class="floating-container max-w-md mx-auto px-4">
            <div id="authButtons" class="grid grid-cols-2 gap-3 mb-6">
                <button onclick="showPage('loginPage')" class="card p-5 text-center border-b-4 border-blue-600">
                    <i class="fas fa-fingerprint text-2xl text-blue-900 mb-2"></i>
                    <p class="font-bold text-xs">住 注专转</p>
                </button>
                <button onclick="showPage('registerPage')" class="card p-5 text-center border-b-4 border-slate-800">
                    <i class="fas fa-clipboard-list text-2xl text-slate-800 mb-2"></i>
                    <p class="font-bold text-xs">专砖 拽 砖</p>
                </button>
            </div>

            <div class="card p-6 mb-8 border-r-4 border-blue-600">
                <div class="flex items-center gap-2 mb-4">
                    <i class="fas fa-microchip text-blue-600 animate-pulse"></i>
                    <h3 class="font-bold text-slate-800 text-sm">转 转拽  转 (AI)</h3>
                </div>
                <textarea id="aiInput" placeholder="砖: 拽 专转 EPC, 住专 住..." rows="2" class="w-full p-3 bg-slate-50 border rounded-xl text-sm mb-3 outline-none focus:border-blue-500"></textarea>
                <button onclick="askExpertAI()" id="aiBtn" class="w-full bg-blue-900 text-white py-3 rounded-xl font-black text-xs shadow-lg">驻注 </button>
                <div id="aiResponse" class="hidden mt-4 ai-response-box"></div>
            </div>
        </div>

        <section class="reviews-section py-12 px-6">
            <h3 class="text-white text-center font-black text-xl mb-10">拽专转 5  -Google</h3>
            <div class="max-w-md mx-auto">
                <div class="review-card-dark">
                    <div class="flex justify-between mb-4"><div class="text-yellow-400 flex gap-1"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div></div>
                    <p class="text-sm font-medium italic">" 转. 驻转专  转拽 专拽住 砖祝    . 砖专转  拽爪注 ."</p>
                    <p class="text-xs font-bold mt-4 text-blue-300"> </p>
                </div>
                <div class="review-card-dark">
                    <div class="flex justify-between mb-4"><div class="text-yellow-400 flex gap-1"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div></div>
                    <p class="text-sm font-medium italic">"注转 注  Q5,  拽 专. 住 拽, 住 砖  转拽转."</p>
                    <p class="text-xs font-bold mt-4 text-blue-300">爪拽 砖</p>
                </div>
            </div>
        </section>
    </div>

    <div id="registerPage" class="hidden p-5 max-w-md mx-auto">
        <button onclick="showPage('homePage')" class="mb-4 text-blue-900 font-bold"><i class="fas fa-arrow-right ml-2"></i> 专</button>
        <div class="card p-6">
            <h2 class="text-xl font-black mb-6 text-blue-900 border-b pb-2">驻转转 专住 拽</h2>
            <div class="space-y-1">
                <input type="text" id="regFirst" placeholder="砖 驻专">
                <input type="text" id="regLast" placeholder="砖 砖驻">
                <input type="number" id="regId" placeholder="转注转 转">
                <input type="tel" id="regPhone" placeholder="驻">
                <input type="text" id="regAddress" placeholder="转转 专">
                <input type="text" id="regPlate" placeholder="住驻专 专">
                <input type="text" id="regCarModel" placeholder="住 专 (砖: 住 )">
                <input type="number" id="regYear" placeholder="砖转 爪专">
                <input type="text" id="regColor" placeholder="爪注 专">
                <input type="number" id="regKm" placeholder="拽专' ">
                <button onclick="handleRegister()" class="w-full bg-blue-900 text-white py-4 rounded-xl font-black text-sm shadow-xl mt-4 uppercase">砖专 注专转</button>
            </div>
        </div>
    </div>

    <div id="loginPage" class="hidden p-5 max-w-md mx-auto">
        <button onclick="showPage('homePage')" class="mb-4 text-blue-900 font-bold"><i class="fas fa-arrow-right ml-2"></i> 专</button>
        <div class="card p-6">
            <h2 class="text-xl font-black mb-6 text-blue-900 border-b pb-2">住 专 砖</h2>
            <input type="text" id="loginLast" placeholder="砖 砖驻" class="mb-3">
            <input type="text" id="loginPlate" placeholder="住驻专 专" class="mb-6">
            <button onclick="handleLogin()" class="w-full bg-blue-900 text-white py-4 rounded-xl font-black">转专</button>
        </div>
    </div>

    <div id="clientDashboard" class="hidden p-5 max-w-md mx-auto">
        <div class="card bg-slate-900 text-white p-6 mb-6">
            <p id="carTitle" class="text-xl font-black"></p>
            <p id="carPlateSub" class="text-blue-400 font-mono text-sm"></p>
        </div>
        <div class="grid grid-cols-2 gap-3 mb-6">
            <div class="card p-4 text-center"><p class="text-[10px] text-blue-500 font-black uppercase">驻 专</p><b id="lastDate" class="text-xs"></b></div>
            <div class="card p-4 text-center"><p class="text-[10px] text-red-500 font-black uppercase">驻 </p><b id="nextDate" class="text-xs"></b></div>
        </div>
        <div class="card p-5 mb-3"><h4 class="text-[10px] font-black opacity-40 mb-2 uppercase tracking-widest">住专转 注:</h4><p id="lastWork" class="text-sm font-bold"></p></div>
        <button onclick="bookWhatsApp()" class="w-full bg-green-600 text-white py-4 rounded-xl font-black flex items-center justify-center gap-2">
            <i class="fab fa-whatsapp"></i> 转 拽专 住
        </button>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDD7YAdTePRWYjwBbmy3gLRYd_OLDwpTL8",
            authDomain: "baram-vag-45e12.firebaseapp.com",
            projectId: "baram-vag-45e12",
            storageBucket: "baram-vag-45e12.firebasestorage.app",
            messagingSenderId: "761383355945",
            appId: "1:761383355945:web:552554b5a6b9fe5e78be38"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        let currentUser = null;

        function showPage(id) {
            ['homePage', 'registerPage', 'loginPage', 'clientDashboard'].forEach(p => document.getElementById(p).classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }

        async function askExpertAI() {
            const input = document.getElementById('aiInput').value.toLowerCase();
            const resDiv = document.getElementById('aiResponse');
            const btn = document.getElementById('aiBtn');
            if(!input) return;
            
            btn.innerText = "转 转...";
            resDiv.classList.remove('hidden');
            resDiv.innerHTML = "注  ...";

            setTimeout(() => {
                let ans = "";
                if(input.includes("专") || input.includes("专") || input.includes("epc")) {
                    ans = "<b> 注专转  注:</b> 专 驻拽住/, 专转 EPC  注 爪注 专 注 转拽 砖 爪, 爪注专转  转拽转 爪转 (). <b>爪:</b> 砖 专 住专拽 ODIS 拽专 转专 拽 转拽 拽 驻 驻转 拽.";
                } else if(input.includes("专") || input.includes("dsg") || input.includes("专注转")) {
                    ans = "<b> 注专转 注专转 :</b> 专 DSG 专砖  爪  驻转 砖 转拽 拽专. 专注转 转转 住注 注砖转 注 注 砖拽转 爪  转拽 转 专拽住.";
                } else if(input.includes("砖") || input.includes("驻")) {
                    ans = "<b>转 转拽:</b> 注 TSI/TFSI  拽驻 注 砖 5W30 转拽 爪专 504.00/507.00. 驻   10,000 拽状 砖专 注 专  专 驻 砖注转.";
                } else {
                    ans = "<b>转砖转 :</b> 转专 砖转转 专砖 拽 驻转. 专 拽爪转 VAG, 砖 转专 转 拽专 专注砖/转拽 拽  转  注 拽 砖 拽专.";
                }
                resDiv.innerHTML = " " + ans;
                btn.innerText = " 住祝";
            }, 1800);
        }

        function handleRegister() {
            const plate = document.getElementById('regPlate').value;
            const data = {
                firstName: document.getElementById('regFirst').value,
                lastName: document.getElementById('regLast').value,
                id: document.getElementById('regId').value,
                phone: document.getElementById('regPhone').value,
                address: document.getElementById('regAddress').value,
                plate: plate,
                carModel: document.getElementById('regCarModel').value,
                year: document.getElementById('regYear').value,
                color: document.getElementById('regColor').value,
                km: document.getElementById('regKm').value,
                lastServiceDate: "砖 注专转", 
                nextServiceDate: "转", 
                lastServiceWork: "专砖 拽 专砖"
            };
            db.collection("customers").doc(plate).set(data).then(() => {
                alert("专砖 爪注! 驻专 砖专 注专转 专注状.");
                showPage('homePage');
            });
        }

        function handleLogin() {
            const plate = document.getElementById('loginPlate').value;
            const lastName = document.getElementById('loginLast').value;
            db.collection("customers").doc(plate).get().then(doc => {
                if (doc.exists && doc.data().lastName === lastName) {
                    currentUser = doc.data();
                    document.getElementById('userGreeting').innerText = "砖, " + currentUser.firstName;
                    document.getElementById('logoutBtn').classList.remove('hidden');
                    document.getElementById('authButtons').classList.add('hidden');
                    document.getElementById('carTitle').innerText = currentUser.carModel + " " + currentUser.year;
                    document.getElementById('carPlateSub').innerText = currentUser.plate;
                    document.getElementById('lastDate').innerText = currentUser.lastServiceDate;
                    document.getElementById('nextDate').innerText = currentUser.nextServiceDate;
                    document.getElementById('lastWork').innerText = currentUser.lastServiceWork;
                    showPage('clientDashboard');
                } else { alert("转  转"); }
            });
        }

        function bookWhatsApp() {
            const msg = `砖,  ${currentUser.firstName}, 注 转 驻 专 ${currentUser.plate}.`;
            window.open(`https://wa.me/972505858750?text=${encodeURIComponent(msg)}`, '_blank');
        }
    </script>
</body>
</html>
